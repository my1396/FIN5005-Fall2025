<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Probability and Data in Business Analytics ‚Äì FIN5005 Fall 2025</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-8ef56b68f8fa1e9d2ba328e99e439f80.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-b1eab047c83979204f5fc89f48c6bdb2.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-f904b3a17f9ba91b23ca1e8d6d4821c4.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="site_libs/bootstrap/bootstrap-b1eab047c83979204f5fc89f48c6bdb2.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<!-- This is what works with Quarto and MathJax 3+ -->
<script>
  MathJax = {
    loader: { 
      load: ['[tex]/colorV2'] 
    },
    tex: {
      packages: { '[+]': ['color'] }, // load the colorV2 package
      inlineMath: [   // start/end delimiter pairs for in-line math
        ['$', '$'],
        ['\\(', '\\)']
      ],
      displayMath: [  // start/end delimiter pairs for display math
        ['$$', '$$'],
        ['\\[', '\\]']
      ],
      processEscapes: true, // use \$ to produce a literal dollar sign
      tags: 'ams',  // should be 'ams', 'none', or 'all'
      macros: {  //define TeX macros
        bold: ["{\\boldsymbol #1}", 1],  // use \bold as a shorthand
        indep: "{\\perp \\!\\!\\! \\perp}",
        vect: ["\\mathbf{#1}", 1],
        mat: ["\\mathbf{#1}", 1],

        bA: "\\boldsymbol{A}",
        bB: "\\boldsymbol{B}",
        bC: "\\boldsymbol{C}",
        bD: "\\boldsymbol{D}",
        bE: "\\boldsymbol{E}",
        bF: "\\boldsymbol{F}",
        bG: "\\boldsymbol{G}",
        bH: "\\boldsymbol{H}",
        bI: "\\boldsymbol{I}",
        bJ: "\\boldsymbol{J}",
        bK: "\\boldsymbol{K}",
        bL: "\\boldsymbol{L}",
        bM: "\\boldsymbol{M}",
        bN: "\\boldsymbol{N}",
        bP: "\\boldsymbol{P}",
        bQ: "\\boldsymbol{Q}",
        bR: "\\boldsymbol{R}",
        bS: "\\boldsymbol{S}",
        bT: "\\boldsymbol{T}",
        bU: "\\boldsymbol{U}",
        bV: "\\boldsymbol{V}",
        bW: "\\boldsymbol{W}",
        bX: "\\boldsymbol{X}",
        bY: "\\boldsymbol{Y}",
        bZ: "\\boldsymbol{Z}",
        ba: "\\boldsymbol{a}",
        bb: "\\boldsymbol{b}",
        bc: "\\boldsymbol{c}",
        bd: "\\boldsymbol{d}",
        be: "\\boldsymbol{e}",
        bg: "\\boldsymbol{g}",
        bh: "\\boldsymbol{h}",
        bi: "\\boldsymbol{i}",
        bm: "\\boldsymbol{m}",
        bp: "\\boldsymbol{p}",
        bq: "\\boldsymbol{q}",
        br: "\\boldsymbol{r}",
        bs: "\\boldsymbol{s}",
        bt: "\\boldsymbol{t}",
        bu: "\\boldsymbol{u}",
        bv: "\\boldsymbol{v}",
        bw: "\\boldsymbol{w}",
        bx: "\\boldsymbol{x}",
        by: "\\boldsymbol{y}",
        bz: "\\boldsymbol{z}",

        Acal: "\\mathcal{A}",
        Bcal: "\\mathcal{B}",
        Ccal: "\\mathcal{C}",
        Dcal: "\\mathcal{D}",
        Ecal: "\\mathcal{E}",
        Fcal: "\\mathcal{F}",
        Gcal: "\\mathcal{G}",
        Hcal: "\\mathcal{H}",
        Ical: "\\mathcal{I}",
        Jcal: "\\mathcal{J}",
        Kcal: "\\mathcal{K}",
        Lcal: "\\mathcal{L}",
        Mcal: "\\mathcal{M}",
        Ncal: "\\mathcal{N}",
        Ocal: "\\mathcal{O}",
        Pcal: "\\mathcal{P}",
        Qcal: "\\mathcal{Q}",
        Rcal: "\\mathcal{R}",
        Scal: "\\mathcal{S}",
        Tcal: "\\mathcal{T}",
        Ucal: "\\mathcal{U}",
        Vcal: "\\mathcal{V}",
        Wcal: "\\mathcal{W}",
        Xcal: "\\mathcal{X}",
        Ycal: "\\mathcal{Y}",
        Zcal: "\\mathcal{Z}",

        A: "\\mathbb{A}",
        B: "\\mathbb{B}",
        C: "\\mathbb{C}",
        D: "\\mathbb{D}",
        E: "\\mathbb{E}",
        F: "\\mathbb{F}",
        G: "\\mathbb{G}",
        H: "\\mathbb{H}",
        I: "\\mathbb{I}",
        J: "\\mathbb{J}",
        K: "\\mathbb{K}",
        L: "\\mathbb{L}",
        M: "\\mathbb{M}",
        N: "\\mathbb{N}",
        O: "\\mathbb{O}",
        P: "\\mathbb{P}",
        Q: "\\mathbb{Q}",
        R: "\\mathbb{R}",
        S: "\\mathbb{S}",
        T: "\\mathbb{T}",
        U: "\\mathbb{U}",
        V: "\\mathbb{V}",
        W: "\\mathbb{W}",
        X: "\\mathbb{X}",
        Y: "\\mathbb{Y}",
        Z: "\\mathbb{Z}",

        bAlpha: "\\boldsymbol{\\Alpha}",
        bBeta: "\\boldsymbol{\\beta}",
        bDelta: "\\boldsymbol{\\delta}",
        bEta: "\\boldsymbol{\\eta}",
        bGamma: "\\boldsymbol{\\Gamma}",
        bLambda: "\\boldsymbol{\\Lambda}",
        bOmega: "\\boldsymbol{\\Omega}",
        bPhi: "\\boldsymbol{\\Phi}",
        bPi: "\\boldsymbol{\\Pi}",
        bPsi: "\\boldsymbol{\\Psi}",
        bSigma: "\\boldsymbol{\\Sigma}",
        bTau: "\\boldsymbol{\\tau}",
        bXi: "\\boldsymbol{\\Xi}",
        bLambda: "\\boldsymbol{\\Lambda}",

        balpha: "\\boldsymbol{\\alpha}",
        bbeta: "\\boldsymbol{\\beta}",
        bepsilon: "\\boldsymbol{\\epsilon}",
        bvarepsilon: "\\boldsymbol{\\varepsilon}",
        bdelta: "\\boldsymbol{\\delta}",
        blambda: "\\boldsymbol{\\lambda}",
        bmu: "\\boldsymbol{\\mu}",
        bphi: "\\boldsymbol{\\phi}",
        bpi: "\\boldsymbol{\\pi}",
        bpsi: "\\boldsymbol{\\psi}",
        brho: "\\boldsymbol{\\rho}",
        bsigma: "\\boldsymbol{\\sigma}",
        btau: "\\boldsymbol{\\tau}",
        bxi: "\\boldsymbol{\\xi}",
        bEta: "\\boldsymbol{\\eta}",
        bPhi: "\\boldsymbol{\\Phi}",
        bPi: "\\boldsymbol{\\Pi}",
        bPsi: "\\boldsymbol{\\Psi}",
        bXi: "\\boldsymbol{\\Xi}",
        blambda: "\\boldsymbol{\\lambda}",
        bmu: "\\boldsymbol{\\mu}",
        bphi: "\\boldsymbol{\\phi}",
        bpi: "\\boldsymbol{\\pi}",
        bpsi: "\\boldsymbol{\\psi}",
        brho: "\\boldsymbol{\\rho}",
        bsigma: "\\boldsymbol{\\sigma}",

        curl: ["\\left\\lbrace#1\\right\\rbrace", 1],
        floor: ["\\left\\lfloor#1\\right\\rfloor", 1],
        ceil: ["\\left\\lceil#1\\right\\rceil", 1],
        abs: ["\\left\\lvert#1\\right\\rvert", 1],
        norm: ["\\left\\lVert#1\\right\\rVert", 1],

        independent: "\\mathrel{\\perp\\!\\!\\perp}",

        var: "\\mathrm{Var}",
        cov: "\\mathrm{Cov}",
        cor: "\\mathrm{Corr}",
        diag: "\\mathrm{diag}",
        rank: "\\mathrm{rank}",
        vecc: "\\mathrm{vec}",
        
        // define colors
        red: ["{\\color[RGB]{246, 87, 55}{#1}}", 1],
        green: ["{\\color[RGB]{0, 204, 102}{#1}}", 1], // #00CC66
      }
    }
  };
</script>
<!-- ===================== Icon Library ====================== -->
<!-- load Font Awesome 6 icon library -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css">
<!-- Load MS codicon library -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@vscode/codicons@latest/dist/codicon.css">

<!-- ============== js for show/hide solutions ================ -->
<script language="JavaScript" src="themes/my_jxscript.js"></script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar docked nav-fixed quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const queryPrefersDark = window.matchMedia('(prefers-color-scheme: dark)');
    const darkModeDefault = queryPrefersDark.matches;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    queryPrefersDark.addEventListener("change", e => {
      if(window.localStorage.getItem("quarto-color-scheme") !== null)
        return;
      const alternate = e.matches
      toggleColorMode(alternate);
      localAlternateSentinel = e.matches ? 'alternate' : 'default'; // this is used alongside local storage!
      toggleGiscusIfUsed(alternate, darkModeDefault);
    });
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">FIN5005 Fall 2025</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./01_introduction.html">Basics</a></li><li class="breadcrumb-item"><a href="./01_introduction.html">Probability and Data in Business Analytics</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./00_environment_setup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Environment Setup</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Basics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_introduction.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Probability and Data in Business Analytics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_Lab-1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab 1: Probability &amp; Descriptive Statistics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_Data_Visualization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Visualization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_Linear_Regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Simple Linear Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_Theoretical_Framework_LR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Theoretical Framework of Linear Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_Hypothesis_Testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hypothesis Testing and Confidence Intervals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06_Multiple_Linear_Regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multiple Linear Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07_Lab-2_MLR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab 2: MLR with Dummy Variables</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#probability-axioms" id="toc-probability-axioms" class="nav-link active" data-scroll-target="#probability-axioms"><span class="header-section-number">1</span> Probability Axioms</a></li>
  <li><a href="#sample-vs.-population-estimating-the-big-picture" id="toc-sample-vs.-population-estimating-the-big-picture" class="nav-link" data-scroll-target="#sample-vs.-population-estimating-the-big-picture"><span class="header-section-number">2</span> Sample vs.&nbsp;Population: Estimating the Big Picture</a></li>
  <li><a href="#moments" id="toc-moments" class="nav-link" data-scroll-target="#moments"><span class="header-section-number">3</span> Moments</a>
  <ul>
  <li><a href="#expectation-variance-and-standard-deviation" id="toc-expectation-variance-and-standard-deviation" class="nav-link" data-scroll-target="#expectation-variance-and-standard-deviation"><span class="header-section-number">3.1</span> Expectation, Variance, and Standard Deviation</a></li>
  <li><a href="#sums-of-random-variables-expectation-variance" id="toc-sums-of-random-variables-expectation-variance" class="nav-link" data-scroll-target="#sums-of-random-variables-expectation-variance"><span class="header-section-number">3.2</span> Sums of Random Variables: Expectation &amp; Variance</a>
  <ul class="collapse">
  <li><a href="#variance-of-linear-transformations-portfolios" id="toc-variance-of-linear-transformations-portfolios" class="nav-link" data-scroll-target="#variance-of-linear-transformations-portfolios">Variance of Linear Transformations &amp; Portfolios</a></li>
  </ul></li>
  <li><a href="#skewness" id="toc-skewness" class="nav-link" data-scroll-target="#skewness"><span class="header-section-number">3.3</span> Skewness</a></li>
  <li><a href="#kurtosis" id="toc-kurtosis" class="nav-link" data-scroll-target="#kurtosis"><span class="header-section-number">3.4</span> Kurtosis</a></li>
  </ul></li>
  <li><a href="#covariance-correlation-independence" id="toc-covariance-correlation-independence" class="nav-link" data-scroll-target="#covariance-correlation-independence"><span class="header-section-number">4</span> Covariance, Correlation &amp; Independence</a></li>
  <li><a href="#population-vs.-sample-summary-estimators" id="toc-population-vs.-sample-summary-estimators" class="nav-link" data-scroll-target="#population-vs.-sample-summary-estimators"><span class="header-section-number">5</span> Population vs.&nbsp;Sample: Summary &amp; Estimators</a>
  <ul>
  <li><a href="#quick-reference-table" id="toc-quick-reference-table" class="nav-link" data-scroll-target="#quick-reference-table"><span class="header-section-number">5.1</span> Quick Reference Table</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./01_introduction.html">Basics</a></li><li class="breadcrumb-item"><a href="./01_introduction.html">Probability and Data in Business Analytics</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Probability and Data in Business Analytics</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="callout callout-style-simple callout-note no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>üéØ <strong>Study Objectives</strong></p>
<ul>
<li>Apply probability rules to real business events.</li>
<li>Distinguish clearly between population parameters and sample estimators.</li>
<li>Compute and explain expectation, variance, and standard deviation in business contexts.</li>
<li>Interpret higher moments: skewness and kurtosis for tail and asymmetry assessment.</li>
<li>Combine random variables (e.g., portfolio or multi‚Äëchannel forecast) and decompose variance with covariance terms.</li>
<li>Calculate and interpret covariance and correlation; relate independence vs.&nbsp;zero correlation.</li>
</ul>
</div>
</div>
</div>
<p>Probability is the foundation for making data-driven decisions in business. This section covers the essential concepts, formulas, and business examples you‚Äôll use in analytics.</p>
<section id="probability-axioms" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="probability-axioms"><span class="header-section-number">1</span> Probability Axioms</h2>
<p>Probability measures how likely an event is.</p>
<p><span class="math display">\[P(A) = \frac{\text{Number of ways A can occur}}{\text{Total possible outcomes}}\]</span></p>
<ol type="1">
<li><span class="math inline">\(P(A) \geq 0\)</span> for any event <span class="math inline">\(A\)</span></li>
<li><span class="math inline">\(P(\text{all possible outcomes}) = 1\)</span></li>
<li><span class="math inline">\(P(A \text{ or } B) = P(A) + P(B) - P(A\text{ and }B)\)</span></li>
<li>If <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> are mutually exclusive, then <span class="math display">\[
P(A \text{ and } B) = 0
\]</span> and <span class="math display">\[
P(A \text{ or } B) = P(A) + P(B)
\]</span> Mutually exclusive means ‚Äúcannot happen together.‚Äù</li>
</ol>
<div id="exm-1" class="example theorem">
<p><span class="theorem-title"><strong>Example 1</strong></span> A retailer estimates a 30% chance of a supply chain disruption and a 50% chance of a demand spike. If these events are mutually exclusive, what is the probability of either event occurring?</p>
</div>
<button class="solution-btn" onclick="myFunction('sol-1')">
Solution
</button>
<div id="sol-1" class="solution-answer env-green proof solution">
<p><span class="proof-title"><em>Solution 1</em>. </span>Since the events are mutually exclusive, <span class="math inline">\(P(A \text{ and } B)=0,\)</span> then <span class="math display">\[
\begin{split}
P(A \text{ and } B)=P(A)+P(B)-P(A \text{ and } B)=0.30+0.50=0.80.
\end{split}
\]</span></p>
</div>
<div id="exm-2" class="example theorem">
<p><span class="theorem-title"><strong>Example 2</strong></span> In a multi-channel marketing campaign, 35% of customers click an email offer (Event A) and 25% engage with a social media ad (Event B). Data shows 10% of customers do both. What is the probability a randomly selected customer engages with at least one of the two channels (email OR social)?</p>
</div>
<button class="solution-btn" onclick="myFunction('sol-2')">
Solution
</button>
<div id="sol-2" class="solution-answer env-green proof solution">
<p><span class="proof-title"><em>Solution 2</em>. </span></p>
<span class="math inline">\(P(A) + P(B) - P(A \text{ and } B) = 0.35 + 0.25 - 0.10 = 0.50\)</span>
</div>
</section>
<section id="sample-vs.-population-estimating-the-big-picture" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="sample-vs.-population-estimating-the-big-picture"><span class="header-section-number">2</span> Sample vs.&nbsp;Population: Estimating the Big Picture</h2>
<p>In business, we use samples to estimate population characteristics.</p>
<p>Sample mean:</p>
<p><span class="math display">\[
\overline{X} = \frac{1}{n} \sum_{i=1}^n X_i
\]</span></p>
<div id="exm-telecom" class="example theorem">
<p><span class="theorem-title"><strong>Example 3</strong></span> A telecom company surveys a randomly selected sample of 500 customers about service quality. The sample mean satisfaction score is 4.2. How can this estimate help guide company-wide improvements?</p>
</div>
<button class="solution-btn" onclick="myFunction('sol-telecom')">
Solution
</button>
<div id="sol-telecom" class="solution-answer env-green proof solution">
<p><span class="proof-title"><em>Solution 3</em>. </span></p>
<ul>
<li>The sample mean (4.2) is based on 500 surveyed customers (the sample).</li>
<li>The population is all customers of the telecom company.</li>
<li>To guide company-wide improvements, we need to know if the sample is representative of the population.</li>
<li>There is uncertainty in the estimate; larger samples make the sample mean closer to the true population mean.</li>
<li>The sample mean is useful, but its reliability depends on sample representativeness and size.</li>
</ul>
</div>
<div id="exm-3" class="example theorem">
<p><span class="theorem-title"><strong>Example 4</strong></span> Why is it important to distinguish between sample and population in business analytics?</p>
</div>
<button class="solution-btn" onclick="myFunction('sol-3')">
Solution
</button>
<div id="sol-3" class="solution-answer env-green proof solution">
<p><span class="proof-title"><em>Solution 4</em>. </span></p>
Because we use samples to estimate population parameters, and understanding the difference helps us make better decisions and avoid bias.
</div>
</section>
<section id="moments" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="moments"><span class="header-section-number">3</span> Moments</h2>
<section id="expectation-variance-and-standard-deviation" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="expectation-variance-and-standard-deviation"><span class="header-section-number">3.1</span> Expectation, Variance, and Standard Deviation</h3>
<ul>
<li><p><strong>Expectation (population):</strong> Average level of the outcome (true but unknown in practice). <span class="math display">\[
\mathbb{E}[X] =
\begin{cases}
\displaystyle \sum_{i} x_i \, P(X = x_i) &amp; \text{(discrete)} \\
\displaystyle \int_{-\infty}^{\infty} x \, f(x) \, dx &amp; \text{(continuous)} \\
\end{cases}
\]</span> <strong>Sample estimator:</strong> Replace the distribution by observed data: <span class="math display">\[\bar{X} = \dfrac{1}{n}\sum_{i=1}^n X_i.\]</span> The sample mean <span class="math inline">\(\bar{X}\)</span> estimates the population mean <span class="math inline">\(\mathbb{E}[X]\)</span>.</p></li>
<li><p><strong>Variance (population):</strong> How much values fluctuate around the true mean.</p>
<p><span class="math display">\[\text{Var}(X) = E[(X - E[X])^2]\]</span></p>
<p>The variance can also be expressed as:</p>
<p><span class="math display">\[
\begin{aligned}
\color{#00CC66}{\text{Var}(X)} &amp;= \mathbb{E}\left[\left(X - \mathbb{E}[X]\right)^2\right] \\
&amp;= \color{#00CC66}{\mathbb{E}[X^2] - (\mathbb{E}[X])^2}.
\end{aligned}
\]</span></p>
<p>This second form is often faster to compute when you already have (or can easily get) <span class="math inline">\(\mathbb{E}[X^2]\)</span> (e.g., from grouped data or a probability model). In finance, we frequently estimate variance from simulated or historical returns by computing the average of squared returns (giving <span class="math inline">\(\mathbb{E}[X^2]\)</span>) and subtracting the square of the average return.</p>
<p><strong>Sample estimators:</strong></p>
<ul>
<li>Biased (population style) estimator: <span class="math display">\[ \hat{\sigma}^2 = \dfrac{1}{n}\sum_{i=1}^n (X_i - \bar{X})^2 \]</span></li>
<li>Unbiased estimator: <span class="math display">\[s^2 = \dfrac{1}{n-1}\sum_{i=1}^n (X_i - \bar{X})^2 \]</span> The latter (<span class="math inline">\(s^2\)</span>) subtracts 1 from <span class="math inline">\(n\)</span> in the denominator, which is known as a degrees of freedom correction. This version has some desirable properties but we will not discuss these for now. Suffice to say that both versions are usually fine.</li>
</ul></li>
</ul>
<div id="exm-10" class="example theorem">
<p><span class="theorem-title"><strong>Example 5</strong></span> An operations planner models next-hour demand arrivals for a micro-warehouse (number of urgent orders) as <span class="math inline">\(X \in \{0,1,2\}\)</span> with probabilities 0.2, 0.5, 0.3. Compute the variability (variance) of order arrivals using the shortcut formula <span class="math inline">\(\mathbb{E}[X^2] - (\mathbb{E}[X])^2\)</span> to inform staffing.</p>
</div>
<button class="solution-btn" onclick="myFunction('sol-10')">
Solution
</button>
<div id="sol-10" class="solution-answer env-green proof solution">
<p><span class="proof-title"><em>Solution 5</em>. </span><span class="math display">\[
\begin{split}
\mathbb{E}[X] &amp;= 0(0.2)+1(0.5)+2(0.3)=1.1 \\
\mathbb{E}[X^2] &amp;= 0^2(0.2)+1^2(0.5)+2^2(0.3)=0+0.5+1.2=1.7 \\
\text{Var}(X) &amp;= \mathbb{E}[X^2] - (\mathbb{E}[X])^2 = 1.7 - 1.1^2 = 1.7 - 1.21 = 0.49
\end{split}
\]</span></p>
</div>
<div id="exm-11" class="example theorem">
<p><span class="theorem-title"><strong>Example 6</strong></span> A SaaS company tracks daily change in Daily Active Users (DAU) (in %) over 5 days: <span class="math inline">\(0.4\)</span>, <span class="math inline">\(0.6\)</span>, <span class="math inline">\(-0.2\)</span>, <span class="math inline">\(0.5\)</span>, <span class="math inline">\(0.7\)</span>. Verify that the direct variance definition and the shortcut formula match; interpret what the variance implies for short‚Äëterm engagement volatility.</p>
</div>
<button class="solution-btn" onclick="myFunction('sol-11')">
Solution
</button>
<div id="sol-11" class="solution-answer env-green proof solution">
<p><span class="proof-title"><em>Solution 6</em>. </span>Daily % changes: <span class="math inline">\(0.4,\ 0.6,\ -0.2,\ 0.5,\ 0.7\)</span>. Let units be <strong>percentage points</strong> (pp). <span class="math display">\[
\mathbb{E}[X] = \frac{0.4+0.6-0.2+0.5+0.7}{5} = 0.4 \text{ pp}
\]</span> <span class="math display">\[
\mathbb{E}[X^2] = \frac{0.16+0.36+0.04+0.25+0.49}{5} = \frac{1.30}{5} = 0.26 \text{ (pp)}^2
\]</span> Variance (percentage-point squared): <span class="math display">\[
\text{Var}(X) = 0.26 - (0.4)^2 = 0.26 - 0.16 = 0.10 \text{ (pp)}^2
\]</span> Standard deviation <span class="math inline">\(= \sqrt{0.10} \approx 0.316\)</span> pp (about <span class="math inline">\(0.32\)</span> percentage points). Direct (long) method matches (0.10).<br>
Interpretation: Moderate short-term volatility compared to the mean change of 0.4 pp.&nbsp;This suggests some fluctuations in user engagement, but not extreme.</p>
</div>
<ul>
<li><p><strong>Standard Deviation (population):</strong> Square root of variance, showing average deviation from the true mean.</p>
<p><span class="math display">\[\text{sd}(X) = \sqrt{\text{Var}(X)}\]</span></p>
<p><strong>Sample estimator:</strong> <span class="math inline">\(s = \sqrt{s^2}\)</span> (using the unbiased <span class="math inline">\(s^2\)</span> above).</p></li>
</ul>
<div id="exm-9" class="example theorem">
<p><span class="theorem-title"><strong>Example 7</strong></span> A hedge fund analyzes daily returns of two portfolios. Portfolio A has higher mean but also higher variance. How should risk-adjusted performance be compared?</p>
</div>
<button class="solution-btn" onclick="myFunction('sol-9')">
Solution
</button>
<div id="sol-9" class="solution-answer env-green proof solution">
<p><span class="proof-title"><em>Solution 7</em>. </span></p>
Compare risk-adjusted metrics (e.g., Sharpe ratio = (mean - rf)/sd). Higher mean with disproportionate variance may yield lower Sharpe.
</div>
<div id="exm-4" class="example theorem">
<p><span class="theorem-title"><strong>Example 8</strong></span> A business has daily profits of $200, $250, $180, $220, and $210. Calculate the mean and variance.</p>
</div>
<button class="solution-btn" onclick="myFunction('sol-4')">
Solution
</button>
<div id="sol-4" class="solution-answer env-green proof solution">
<p><span class="proof-title"><em>Solution 8</em>. </span><strong>Mean:</strong> <span class="math inline">\(\bar{x}=\dfrac{200+250+180+220+210}{5}=\dfrac{1060}{5}=212\)</span>.</p>
<p><strong>Variance calculations:</strong></p>
<ol type="1">
<li><strong>Sum of squared deviations</strong><br>
<span class="math display">\[
\begin{aligned}
(200-212)^2 &amp;+ (250-212)^2 + (180-212)^2 + (220-212)^2 + (210-212)^2 \\
&amp;= 144 + 1444 + 1024 + 64 + 4 = 2680
\end{aligned}
\]</span></li>
<li><strong>Population variance</strong> (divide by <span class="math inline">\(n=5\)</span>)<br>
<span class="math display">\[ \sigma^2 = \frac{2680}{5} = 536 \]</span></li>
<li><strong>Sample variance</strong> (unbiased, divide by <span class="math inline">\(n-1=4\)</span>)<br>
<span class="math display">\[ s^2 = \frac{2680}{4} = 670 \]</span></li>
</ol>
<p>Population variance uses <span class="math inline">\(n\)</span> when treating these 5 observations as the entire population; sample variance uses <span class="math inline">\(n-1\)</span> to unbiasedly estimate <span class="math inline">\(\text{Var}(X)\)</span> of a larger process.</p>
</div>
</section>
<section id="sums-of-random-variables-expectation-variance" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="sums-of-random-variables-expectation-variance"><span class="header-section-number">3.2</span> Sums of Random Variables: Expectation &amp; Variance</h3>
<p>Population linearity of expectation: <span class="math display">\[E[X + Y] = E[X] + E[Y]\]</span></p>
<p>Sample counterpart: <span class="math inline">\(\overline{X+Y} = \bar{X} + \bar{Y}\)</span> (sample means add componentwise).</p>
<p>If <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> are independent, the population variance of their sum is the sum of their variances: <span class="math display">\[\text{Var}(X + Y) = \text{Var}(X) + \text{Var}(Y)\]</span></p>
<p>If not independent, add twice the covariance: <span class="math display">\[\text{Var}(X + Y) = \text{Var}(X) + \text{Var}(Y) + 2\text{Cov}(X, Y)\]</span></p>
<p>Sample counterpart (unbiased style): <span class="math display">\[s_{X+Y}^2 = s_X^2 + s_Y^2 + 2 s_{XY},\]</span> where <span class="math inline">\(s_{XY} = \dfrac{1}{n-1}\sum_{i=1}^n (X_i-\bar{X})(Y_i-\bar{Y}).\)</span></p>
<p><strong>Intuitive Example:</strong> In portfolio management, the total risk (variance) of a portfolio depends on the variances of individual assets and how they move together (covariance).</p>
<div id="exm-6" class="example theorem">
<p><span class="theorem-title"><strong>Example 9</strong></span> Two independent projects have profit variances of 100 and 150. What is the variance of total profit?</p>
</div>
<button class="solution-btn" onclick="myFunction('sol-6')">
Solution
</button>
<div id="sol-6" class="solution-answer env-green proof solution">
<p><span class="proof-title"><em>Solution 9</em>. </span></p>
<span class="math inline">\(100 + 150 = 250\)</span>.
</div>
<section id="variance-of-linear-transformations-portfolios" class="level4">
<h4 class="anchored" data-anchor-id="variance-of-linear-transformations-portfolios">Variance of Linear Transformations &amp; Portfolios</h4>
<p>The variance operator is the expectation of a quadratic function, so it is not linear. Instead, for constants <span class="math inline">\(a, b\)</span>:</p>
<p><span class="math display">\[
\text{Var}(a + bX) = b^2\,\text{Var}(X).
\]</span></p>
<p>More generally, for constants <span class="math inline">\(a_i \in \mathbb{R}, i=1,\ldots,n\)</span>:</p>
<p><span class="math display">\[
\text{Var}\left(\sum_{i=1}^n a_i X_i \right) = \sum_{i=1}^n a_i^2 \, \text{Var}(X_i) + \sum_{i=1}^n \sum_{j=1}^n a_i a_j \, \text{Cov}(X_i, X_j).
\]</span></p>
<p>If the <span class="math inline">\(X_i\)</span> are pairwise independent (or uncorrelated), the double sum of covariance terms drops out for <span class="math inline">\(i\neq j\)</span>, leaving only the first sum.</p>
<div id="exm-12" class="example theorem">
<p><span class="theorem-title"><strong>Example 10</strong></span> A portfolio allocates 40% to Asset A and 60% to Asset B. <span class="math inline">\(\text{Var}(A)=0.04\)</span>, <span class="math inline">\(\text{Var}(B)=0.09\)</span>, and <span class="math inline">\(\text{Cov}(A,B)=0.01\)</span>. Compute portfolio variance using the general formula.</p>
</div>
<button class="solution-btn" onclick="myFunction('sol-12')">
Solution
</button>
<div id="sol-12" class="solution-answer env-green proof solution">
<p><span class="proof-title"><em>Solution 10</em>. </span></p>
<span class="math inline">\(\text{Var}(P)=0.4^2(0.04)+0.6^2(0.09)+2(0.4)(0.6)(0.01)=0.0064+0.0324+0.0048=0.0436\)</span>.
</div>
<div id="exm-13" class="example theorem">
<p><span class="theorem-title"><strong>Example 11</strong></span> A production planner combines forecasts: Final forecast <span class="math inline">\(F = 2 + 0.7X_1 + 0.3X_2\)</span>. If <span class="math inline">\(\text{Var}(X_1)=25\)</span>, <span class="math inline">\(\text{Var}(X_2)=9\)</span>, and <span class="math inline">\(\text{Cov}(X_1,X_2)=6\)</span>, find <span class="math inline">\(\text{Var}(F)\)</span>.</p>
</div>
<button class="solution-btn" onclick="myFunction('sol-13')">
Solution
</button>
<div id="sol-13" class="solution-answer env-green proof solution">
<p><span class="proof-title"><em>Solution 11</em>. </span></p>
Constant 2 adds no variance. <span class="math inline">\(\text{Var}(F)=0.7^2(25)+0.3^2(9)+2(0.7)(0.3)(6)=12.25+0.81+2.52=15.58\)</span>.
</div>
</section>
</section>
<section id="skewness" class="level3" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="skewness"><span class="header-section-number">3.3</span> Skewness</h3>
<p>Skewness measures asymmetry in a distribution.</p>
<ul>
<li><strong>Skewness = 0:</strong> Symmetric (e.g., normal)</li>
<li><strong>Skewness &lt; 0:</strong> Longer left tail (large losses more likely than large gains)</li>
<li><strong>Skewness &gt; 0:</strong> Longer right tail (occasional big gains)</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div id="fig-skew" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-skew-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/Skewness.png" class="img-fluid figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-skew-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Diagram of Skewness.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Business reading: Positive skew in quarterly sales means you usually hit average numbers but sometimes land a very big contract. Negative skew in operational losses could mean rare but severe downside events that need contingency planning.</p>
<p>Let <span class="math inline">\(\mu_3 = E[(X-\mathbb{E}[X])^3]\)</span> denote the third central moment. Standardized (population) skewness: <span class="math display">\[\gamma_1 = \frac{\mu_3}{\text{sd}(X)^3}.\]</span></p>
<p>Sample (bias‚Äëadjusted) skewness estimator: <span class="math display">\[\hat{\gamma}_1 = \frac{n}{(n-1)(n-2)} \sum_{i=1}^n \left(\frac{X_i-\bar{X}}{s}\right)^3.\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Note for skewness and kurtosis, it is NOT expected to hand calculate the values, the focus is on</p>
<ul>
<li>the interpretation of given results.</li>
<li>be able to recognize skewness and kurtosis in data visualizations (e.g., histograms, box plots).</li>
</ul>
</div>
</div>
</section>
<section id="kurtosis" class="level3" data-number="3.4">
<h3 data-number="3.4" class="anchored" data-anchor-id="kurtosis"><span class="header-section-number">3.4</span> Kurtosis</h3>
<p>Kurtosis measures tail weight (propensity for outliers) relative to a normal distribution.</p>
<ul>
<li><strong>Kurtosis ‚âà 3:</strong> Normal tail thickness</li>
<li><strong>Kurtosis &gt; 3 (leptokurtic):</strong> Heavy / fat tails, more extreme outcomes</li>
<li><strong>Kurtosis &lt; 3 (platykurtic):</strong> Light / thin tails, fewer extremes</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div id="fig-t" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-t-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/t distribution.png" class="img-fluid figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-t-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Examples of heavy-tailed distributions.
</figcaption>
</figure>
</div>
</div>
</div>
<p><span class="env-green"><span class="math inline">\(t\)</span>-distribution</span> has <em>higher</em> kurtosis than normal distributions.</p>
<ul>
<li>Meaning that <span class="math inline">\(t\)</span>-distribution has a higher probability of obtaining values that are far from the mean than a normal distribution.</li>
<li>It is less peaked in the center and higher in the tails than normal distribution.</li>
<li>As the degree of freedom increases, <span class="math inline">\(t\)</span>-distribution approximates to normal distribution, kurtosis decreases and approximates to 3.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div id="fig-t-dist-change-df" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-t-dist-change-df-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/t-dist change df.gif" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-t-dist-change-df-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: The comparison between the <em>t</em>-distribution and the normal distribution at degrees of freedom ranging from 1 to 50. Figure source: from <a href="https://tjkyner.medium.com/the-normal-distribution-vs-students-t-distribution-322aa12ffd15">T.J. Kyner</a>.
</figcaption>
</figure>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="For the $t$-distribution:">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
For the <span class="math inline">\(t\)</span>-distribution:
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>As the degrees of freedom (df) increase, the <span class="math inline">\(t\)</span>-distribution approaches the normal distribution.</li>
<li>A common rule of thumb is that for <span class="math inline">\(df &gt; 30\)</span>, one can pretty safely use the normal distribution in place of a <em>t</em>-distribution unless you are interested in the extreme tails.</li>
</ul>
</div>
</div>
<p>Let <span class="math inline">\(\mu_4 = E[(X-\mathbb{E}[X])^4]\)</span> be the fourth central moment. Standardized (population) kurtosis: <span class="math display">\[\kappa = \frac{\mu_4}{\text{sd}(X)^4}, \qquad \text{Excess kurtosis} = \kappa - 3.\]</span> Sample (Fisher) excess kurtosis estimator: <span class="math display">\[\hat{g}_2 = \frac{n(n+1)}{(n-1)(n-2)(n-3)} \sum_{i=1}^n \left(\frac{X_i-\bar{X}}{s}\right)^4 - \frac{3(n-1)^2}{(n-2)(n-3)}.\]</span> High excess kurtosis signals greater tail risk; low or negative excess indicates fewer extreme outcomes.</p>
<p>Interpretation link: High positive skewness without high kurtosis means upside spikes with limited extra tail risk; high kurtosis (regardless of skew sign) means fatter tails and a need to focus on outlier management.</p>
<div id="exm-5" class="example theorem">
<p><span class="theorem-title"><strong>Example 12</strong></span> A company‚Äôs quarterly profits have excess kurtosis of 4. What does this mean for risk management?</p>
</div>
<button class="solution-btn" onclick="myFunction('sol-5')">
Solution
</button>
<div id="sol-5" class="solution-answer env-green proof solution">
<p><span class="proof-title"><em>Solution 12</em>. </span>Excess kurtosis is defined relative to a normal distribution (which has kurtosis 3).</p>
<ul>
<li>Excess kurtosis = Kurtosis ‚àí 3</li>
<li>So an excess kurtosis of 4 means the total kurtosis is <strong>7</strong>, much higher than a normal distribution.</li>
</ul>
<p>This implies the distribution of quarterly profits has <strong>fat tails</strong> ‚Äî extreme profit or loss outcomes are more likely than under a normal distribution. Recommend to focus risk management on outliers.</p>
</div>
</section>
</section>
<section id="covariance-correlation-independence" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="covariance-correlation-independence"><span class="header-section-number">4</span> Covariance, Correlation &amp; Independence</h2>
<p>Population covariance measures the direction of comovement between two variables:</p>
<ul>
<li><strong>Positive covariance:</strong> Both variables increase or decrease together</li>
<li><strong>Negative covariance:</strong> One increases while the other decreases</li>
<li><strong>Magnitude:</strong> Does not indicate strength of relationship</li>
</ul>
<p><strong>Population formulas:</strong> <span class="math display">\[\text{Cov}(X, Y) = E[(X - E[X])(Y - E[Y])]\]</span> <span class="math display">\[\text{Cov}(X, Y) = E[XY] - E[X]E[Y]\]</span></p>
<p><strong>Sample covariance (unbiased):</strong> <span class="math display">\[s_{XY} = \frac{1}{n-1}\sum_{i=1}^n (X_i - \bar{X})(Y_i - \bar{Y}).\]</span></p>
<p>Population correlation standardizes covariance to a scale from -1 to 1: <span class="math display">\[\text{Corr}(X, Y) = \frac{\text{Cov}(X, Y)}{\text{sd}(X) \cdot \text{sd}(Y)}\]</span></p>
<p><strong>Sample correlation:</strong> <span class="math display">\[r_{XY} = \frac{s_{XY}}{s_X s_Y}.\]</span></p>
<ul>
<li><strong>Correlation = 1:</strong> Perfect positive relationship</li>
<li><strong>Correlation = <span class="math inline">\(-1\)</span>:</strong> Perfect negative relationship</li>
<li><strong>Correlation = 0:</strong> No linear relationship</li>
</ul>
<p>Independence means knowing one event doesn‚Äôt affect the other: <span class="math display">\[P(A \text{ and } B) = P(A) \cdot P(B)\]</span></p>
<div class="callout callout-style-default callout-caution callout-titled" title="Independence vs. Correlation">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Independence vs.&nbsp;Correlation
</div>
</div>
<div class="callout-body-container callout-body">
<p>Independence means no influence between events, while correlation measures linear relationship strength.</p>
<p>Independence implies zero correlation, but zero correlation does not imply independence.</p>
<p>E.g., <span class="math inline">\(X\)</span> and <span class="math inline">\(Y = X^2\)</span> have zero correlation but are not independent.</p>
</div>
</div>
<p><strong>Business Example:</strong> Suppose a retailer finds that sales and weather are correlated. This information can be used to adjust inventory planning for seasonal effects. If two marketing campaigns are independent, the outcome of one does not affect the other.</p>
<div id="exm-independence-supermarket" class="example theorem">
<p><span class="theorem-title"><strong>Example 13</strong></span> Suppose a customer visits a supermarket. Let:</p>
<ul>
<li><span class="math inline">\(A\)</span> = ‚Äúcustomer buys a loaf of bread today‚Äù and <span class="math inline">\(P(A)=30\%\)</span>.</li>
<li><span class="math inline">\(B\)</span> = ‚Äúcustomer buys laundry detergent today‚Äù and <span class="math inline">\(P(B)=10\%\)</span>.</li>
</ul>
<p>What is the probability the customer buys both bread and detergent today? What does observing a bread purchase tell you about <span class="math inline">\(P(B)\)</span>?</p>
</div>
<button class="solution-btn" onclick="myFunction('sol-independence-supermarket')">
Solution
</button>
<div id="sol-independence-supermarket" class="solution-answer env-green proof solution">
<p><span class="proof-title"><em>Solution 13</em>. </span>Bread (frequent staple) and detergent (infrequent refill) decisions are unrelated, so it is reasonable to assume independence. Hence <span class="math display">\[
P(A \text{ and } B) = 30\% \times 10\% = 3\%
\]</span> Observing bread does not change <span class="math inline">\(P(B)=10\%\)</span>.</p>
</div>
<div id="exm-7" class="example theorem">
<p><span class="theorem-title"><strong>Example 14</strong></span> If the correlation between two stocks is <span class="math inline">\(-0.8,\)</span> what does this mean for portfolio diversification?</p>
</div>
<button class="solution-btn" onclick="myFunction('sol-7')">
Solution
</button>
<div id="sol-7" class="solution-answer env-green proof solution">
<p><span class="proof-title"><em>Solution 14</em>. </span></p>
They tend to move in opposite directions, aiding diversification and reducing portfolio variance.
</div>
<div class="callout callout-style-default callout-caution callout-titled" title="Mutually Exclusive vs Independence">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Mutually Exclusive vs Independence
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Mutually exclusive:</strong> Cannot happen together <span class="math display">\[P(A\cap B)=0\]</span></p>
<p><strong>Independent:</strong> Knowledge of one does not change probability of the other <span class="math display">\[P(A\cap B)=P(A)P(B)\]</span></p>
<p>Think: Disjoint = ‚Äúnever together‚Äù; Independent = ‚Äúno influence‚Äù.</p>
</div>
</div>
</section>
<section id="population-vs.-sample-summary-estimators" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="population-vs.-sample-summary-estimators"><span class="header-section-number">5</span> Population vs.&nbsp;Sample: Summary &amp; Estimators</h2>
<p>When analysing data we distinguish between:</p>
<ul>
<li><strong>Population parameters (target):</strong> Fixed (but usually unknown) numerical characteristics of the underlying process (e.g., <span class="math inline">\(\mathbb{E}[X], \text{Var}(X), \gamma_1, \kappa, \text{Cov}(X,Y)\)</span>).</li>
<li><strong>Sample statistics (estimators):</strong> Functions of observed data used to approximate population parameters (e.g., <span class="math inline">\(\bar{X}, s^2, s, \hat{\gamma}_1, \hat{g}_2, s_{XY}, r_{XY}\)</span>). They vary from sample to sample.</li>
</ul>
<p>Key principles:</p>
<ol type="1">
<li>Replace integrals / probability-weighted sums with empirical averages.</li>
<li>Center around the sample mean when the population mean is unknown.</li>
<li>Use <span class="math inline">\(n-1\)</span> (unbiased) denominators for second moments (variance, covariance) when estimating from an i.i.d. sample.</li>
<li>Always interpret sample statistics as <strong>estimates</strong> with sampling variability; risk management and forecasting should account for estimation error (e.g., standard deviation and confidence intervals).</li>
</ol>
<section id="quick-reference-table" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="quick-reference-table"><span class="header-section-number">5.1</span> Quick Reference Table</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 13%">
<col style="width: 48%">
<col style="width: 27%">
<col style="width: 10%">
</colgroup>
<thead>
<tr class="header">
<th>Concept</th>
<th>Population Symbol / Definition</th>
<th>Sample Estimator</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Mean</td>
<td><span class="math inline">\(\mathbb{E}[X]\)</span></td>
<td><span class="math inline">\(\bar{X}=\tfrac{1}{n}\sum X_i\)</span></td>
<td>Unbiased for mean (i.i.d.)</td>
</tr>
<tr class="even">
<td>Variance</td>
<td><span class="math inline">\(\text{Var}(X)=E[(X-\mathbb{E}[X])^2]\)</span></td>
<td><span class="math inline">\(s^2=\tfrac{1}{n-1}\sum (X_i-\bar{X})^2\)</span></td>
<td><span class="math inline">\(s_n^2\)</span> (divide by <span class="math inline">\(n\)</span>) is biased low</td>
</tr>
<tr class="odd">
<td>Std. Dev.</td>
<td><span class="math inline">\(\text{sd}(X)=\sqrt{\text{Var}(X)}\)</span></td>
<td><span class="math inline">\(s=\sqrt{s^2}\)</span></td>
<td>Plug-in</td>
</tr>
<tr class="even">
<td>Skewness</td>
<td><span class="math inline">\(\gamma_1=\mu_3/\text{sd}^3\)</span>, <span class="math inline">\(\mu_3=E[(X-\mathbb{E}[X])^3]\)</span></td>
<td><span class="math inline">\(\hat{\gamma}_1=\frac{n}{(n-1)(n-2)}\sum (\frac{X_i-\bar{X}}{s})^3\)</span></td>
<td>Measures asymmetry</td>
</tr>
<tr class="odd">
<td>Kurtosis (excess)</td>
<td><span class="math inline">\(\kappa-3\)</span>, <span class="math inline">\(\kappa=\mu_4/\text{sd}^4\)</span></td>
<td><span class="math inline">\(\hat{g}_2\)</span> (Fisher)</td>
<td>Tail heaviness vs.&nbsp;normal</td>
</tr>
<tr class="even">
<td>Covariance</td>
<td><span class="math inline">\(\text{Cov}(X,Y)=E[(X-\mathbb{E}X)(Y-\mathbb{E}Y)]\)</span></td>
<td><span class="math inline">\(s_{XY}=\tfrac{1}{n-1}\sum (X_i-\bar{X})(Y_i-\bar{Y})\)</span></td>
<td>Sign = direction</td>
</tr>
<tr class="odd">
<td>Correlation</td>
<td><span class="math inline">\(\rho=\dfrac{\text{Cov}(X,Y)}{\text{sd}(X)\text{sd}(Y)}\)</span></td>
<td><span class="math inline">\(r_{XY}=\dfrac{s_{XY}}{s_X s_Y}\)</span></td>
<td>Scale-free ( -1 to 1 )</td>
</tr>
</tbody>
</table>
<div class="callout callout-style-default callout-tip callout-titled" title="Interpretation tip">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Interpretation tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>If a sample statistic looks extreme (e.g., very high skewness or kurtosis), examine sample size and outliers; small samples amplify noise in higher-moment estimates.</p>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "Óßã";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>