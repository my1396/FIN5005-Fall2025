// Global font family
body, html {
    font-family: -apple-system, system-ui, BlinkMacSystemFont, "Helvetica Neue", Helvetica, Arial, SimSun, sans-serif !important;
}

// Remove inner border from input code blocks
.sourceCode {
    border: none !important;
}
pre.sourceCode {
    border: none !important;
}

// R code chunk outputs - remove background
.cell-output,
.cell-output pre,
.cell-output code,
.cell-output .sourceCode {
  background-color: transparent !important;
  background: none !important;
}

// Remove border from kableExtra scroll box div
.cell-output-display div[style*="border"] {
  border: none !important;
}

/**
 * Tables
 */
table {
  border-collapse: collapse;
  border-spacing: 0;
}
th, td {
  border-spacing: 0px;
  padding-top: 0.3rem;
  padding-bottom: 0.3em;
  padding-left: 0.5rem;
  padding-right: 0.5rem;
}

// Bullet lists
p + ul {
  margin-top: 0.5em;
}

p:has(+ ul) {
  margin-bottom: 0.5em;
}



// Callouts
// Add space between callout title and content
.callout .callout-title-container {
  margin-bottom: 0.5em;
}

// Set all callout types font size to match body text (1rem)
.callout.callout-important .callout-body-container,
.callout.callout-tip .callout-body-container,
.callout.callout-warning .callout-body-container, 
.callout.callout-caution .callout-body-container,
.callout.callout-note .callout-body-container {
  font-size: 1rem;
}

// Solution toggle button styling
.solution-btn {
  background: none;
  border: 1px solid currentColor;
  padding: 0.25rem 0.6rem;
  font-size: 0.85rem;
  cursor: pointer;
  border-radius: 4px;
  margin-bottom: 0.6rem; /* added spacing below solution buttons */
  display: inline-block;
}

.solution-btn:hover {
  opacity: 0.8;
}

// Answer box (will get color via .env-green in theme-specific files)
.solution-answer {
  padding: 0.4rem 0.6rem;
  border-left: 4px solid currentColor;
  margin: 0.4rem 0 0.8rem 0;
  display: none; // hidden by default until toggled
}

/* User defined numbered list prefixed with Step */
.step-list ol {
  counter-reset: step;
  margin: 0 !important;
  padding: 0 !important;
}

/* Hanging indent: reserve space for the Step label so all following content (including code blocks) lines up */
/* Step item: first line (title) flush; later blocks indented */
.step-list ol>li {
  list-style: none;
  counter-increment: step;
  position: relative;
  margin: 0.4rem 0; /* vertical spacing */
}

/* Step label + hanging indent */
:root { --step-label-width: 6ch; }
/* Reserve label column using absolute positioned pseudo-element */
.step-list ol>li {
  padding-left: var(--step-label-width); /* content (including first line) starts after label */
}
.step-list ol>li:before {
  content: 'Step ' counter(step) '. ';
  font-weight: 600;
  position: absolute;
  left: 0;
  top: 0; /* aligns with first line */
  width: var(--step-label-width);
  display: inline-block;
}
/* First paragraph normal block (no extra indent) */
.step-list ol>li > p:first-child { margin-top: 0; }
/* Subsequent blocks align with first text line automatically (inherit li padding); no extra left margin */
.step-list ol>li > *:not(:first-child) { margin-left: 0; }
/* Avoid nested lists double-indenting; they can add their own bullets with slight padding */
.step-list ol>li > *:not(:first-child) ul,
.step-list ol>li > *:not(:first-child) ol { margin-left: 1.2em; }

